# User MUST provide the H_ (host related) variables below

H_WMUI_ARTIFACTS=C:\path\to\WMUI\artifacts
H_WMUI_HOME=../../../

# Constants from image, adapt if using a different image
# Predefined volumes mount points
WMUI_TEST_USER_HOME=/home/webmethods
WMUI_TEST_ARTIFACTS_DIR=/mnt/artifacts
WMUI_TEST_SCRIPTS_DIR=/mnt/scripts
WMUI_TEST_WMUI_HOME_DIR=/opt/iwcd/wmui
WMUI_WMSCRIPT_InstallDir=/opt/webmethods
WMUI_TEST_UMGR_HOME_DIR=/opt/wm-umgr
WMUI_TEST_AUDIT_DIR=/var/webmethods/audit

# Files here depend on previous binary assurance steps
# API Gateway files
WMUI_TEST_AGW_FIXES_IMAGE_FILE=${WMUI_TEST_ARTIFACTS_DIR}/fixes/agw/1101/cds-e2e/latest/26-02-09/fixes.zip
WMUI_WMSCRIPT_AGW_imageFile=${WMUI_TEST_ARTIFACTS_DIR}/products/agw/1101/cds-e2e/latest/products.zip

# MSR files
WMUI_TEST_MSR_FIXES_IMAGE_FILE=${WMUI_TEST_ARTIFACTS_DIR}/fixes/msr/1101/sel-25924/latest/26-02-11/fixes.zip
WMUI_WMSCRIPT_MSR_imageFile=${WMUI_TEST_ARTIFACTS_DIR}/products/msr/1101/sel-25924/latest/products.zip

# Common installer and update manager files
WMUI_TEST_INSTALLER_BIN=${WMUI_TEST_ARTIFACTS_DIR}/default-installer.bin
WMUI_TEST_UMGR_BOOTSTRAP_BIN=${WMUI_TEST_ARTIFACTS_DIR}/default-umgr-bootstrap.bin

WMUI_TEST_PORT_PREFIX=499

# Everything below may be left as is for the test purposes

# Internal variables required by the template (change is optional)
WMUI_WMSCRIPT_AGW_HostName=my-agw-cds-e2e-node
WMUI_WMSCRIPT_MSR_HostName=my-msr-sel-25924-node

# MSR admin password for healthcheck and management
WMUI_WMSCRIPT_MSR_adminPassword=manage

# AGW specific ports (defaults from template, can be overridden)
WMUI_WMSCRIPT_AGW_IntegrationServerPort=5555
WMUI_WMSCRIPT_AGW_IntegrationServersecurePort=5553
WMUI_WMSCRIPT_AGW_IntegrationServerdiagnosticPort=9999
WMUI_WMSCRIPT_YAIHttpPort=9072
WMUI_WMSCRIPT_YAIHttpsPort=9073

# MSR specific ports (defaults from template, can be overridden)
WMUI_WMSCRIPT_MSR_IntegrationServerPort=5555
WMUI_WMSCRIPT_MSR_IntegrationServersecurePort=5553
WMUI_WMSCRIPT_MSR_IntegrationServerdiagnosticPort=9999

# Database configuration - Oracle
# Check the following URL for documentation or details
# https://container-registry.oracle.com/ords/f?p=113:4:277550110161:::4:P4_REPOSITORY,AI_REPOSITORY,AI_REPOSITORY_NAME,P4_REPOSITORY_NAME,P4_EULA_ID,P4_BUSINESS_AREA_ID:1863,1863,Oracle%20Database%20Free,Oracle%20Database%20Free,1,0&cs=3hQX9WMF_f479s6k23PKFrIvA45UOXs1ONEf_CyKHyx2RlTXAkx0HK8Xcs9Y9hvtgZTVmfvamAY3XMUs6s30ekA
WMUI_ORACLE_IMAGE=container-registry.oracle.com/database/free:23.5.0.0-lite
WMUI_ORACLE_DATA_MOUNT_POINT=/opt/oracle/oradata

# DBC (Database Configurator) image - required for database initialization
# Build instructions: https://github.com/ibm-webmethods-continuous-delivery/2l-unattended-installation-templates/tree/v0.0.4/05-container-image-builders-test/dbc/1101/full/local-build-1
WMUI_DBC_IMAGE=dbc-1101-full-alpine-test-1
WMUI_DBC_WM_HOME=/opt/webmethods/dbc/1101/full
WMUI_DBC_LOGS_MOUNT_POINT=${WMUI_DBC_WM_HOME}/common/db/logs
WMUI_DBC_SCRIPTS_MOUNT_POINT=/mnt/scripts

# Oracle database service names (depends on chosen image/server configuration)
ORACLE_CDB=FREE
ORACLE_PDB=FREEPDB1
# ORACLE_PWD='Password1'

# Database users for webMethods components (shared by both AGW and MSR)
WMUI_WM_DB_NAME=webmethods
WMUI_WM_DB_USER_NAME=webmethods
WMUI_WM_DB_USER_PASS='Password02'

WMUI_WM_ARCHIVE_DB_NAME=wmarchive
WMUI_WM_ARCHIVE_DB_USER_NAME=wmarchive
WMUI_WM_ARCHIVE_DB_USER_PASS='Password03'

WMUI_TEST_DB_HOSTNAME=db
WMUI_TEST_DB_PORT=1521

# Database connection string for TaskEngine Runtime (URL-encoded)
# Format: jdbc:wm:oracle://<host>:<port>;serviceName=<service>
# URL-encoded: jdbc%3Awm%3Aoracle%3A%2F%2F<host>%3A<port>%3BserviceName%3D<service>
# Database driver selection for installer - Oracle is selected (index 0 marked with underscore)
# Format: <total_count>,<index0>_,<index1>,<index2>,...,<name0>,<name1>,<name2>,...
# The underscore after an index marks it as selected
TaskEngineRuntimeConnectionName=cu
WMUI_WMSCRIPT_TaskEngineRuntimeDriverName='6,0_,1,2,3,4,5,Oracle,SQL+Server,DB2+for+Linux%2C+UNIX%2C+Windows,MySQL+Community+Edition,MySQL+Enterprise+Edition,PostgreSQL'
WMUI_WMSCRIPT_TaskEngineRuntimeUrlName=jdbc%3Awm%3Aoracle%3A%2F%2F${WMUI_TEST_DB_HOSTNAME}%3A${WMUI_TEST_DB_PORT}%3BserviceName%3D${ORACLE_CDB}
WMUI_WMSCRIPT_TaskEngineRuntimeUserName=${WMUI_WM_DB_USER_NAME}
WMUI_WMSCRIPT_TaskEngineRuntimePasswordName=${WMUI_WM_DB_USER_PASS}

# Elasticsearch and Kibana configuration for API Gateway
# ELK stack version - should match the version used in the working example
WMUI_TEST_ELK_VERSION=8.17.3

# Elasticsearch credentials - for simplicity use the same for all instances
WMUI_TEST_ELASTIC_USERNAME=notelastic
WMUI_TEST_ELASTIC_PASSWORD=rwhkfjfweiuywgeu435

# Test harness context
PU_ONLINE_MODE=false
PU_DEBUG_MODE=true
WMUI_PRODUCT_ONLINE_MODE=false

# ESB Simulation - load packages from the Publish Subscribe With Monitoring Seed
## ESB
H_WMUI_TEST_PUB_SUB_MON_01_REPO_HOME=../../../../5s-pub-sub-with-mon-01
WMUI_TEST_ESB_COPY_PUB_SUB_MON_PACKAGES=true
WMUI_TEST_PUB_SUB_MON_01_REPO_MOUNT_POINT=/mnt/5s-pub-sub-with-mon-01

WMUI_WMSCRIPT_adminPassword=NotManage

# Universal Messaging
WMUI_TEST_UM_IMAGE=ibmwebmethods.azurecr.io/universalmessaging-server:11.1.3
WMUI_TEST_UM_REALM_NAME=ex99realm
WMUI_TEST_UM_DATA_MOUNT_POINT=/opt/softwareag/UniversalMessaging/server/umserver/data
WMUI_TEST_UM_LOGS_MOUNT_POINT=/opt/softwareag/UniversalMessaging/server/umserver/logs
